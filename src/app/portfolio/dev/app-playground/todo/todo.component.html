<section>
  <mat-card>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <mat-card-header>
        <mat-card-title>Add Todo</mat-card-title>
      </mat-card-header>
      <mat-card-content>

        <mat-form-field color="accent">
          <mat-label>Task:</mat-label>
          <input matInput formControlName="task">
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Task priority</mat-label>
          <mat-select formControlName="priority">
            <mat-option *ngFor="let priority of priorityList" [value]="priority">
              {{priority}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-checkbox (click)="toggleHaveDescription()" [value]="haveDescription" color="accent">
          Add a description to the task?
        </mat-checkbox>

        <button mat-raised-button type="submit" [disabled]="!form.valid" color="accent" class="submit">Submit</button>

        <mat-form-field appearance="fill" *ngIf="haveDescription">
          <textarea matInput formControlName="description" placeholder="Ex... Get the less expensive brand."></textarea>
        </mat-form-field>
      </mat-card-content>
    </form>
  </mat-card>

  <mat-card *ngIf="todoService.todoList.length > 0">
    <mat-card-header>
      <mat-card-title>Todo List</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <ul class="todo-list">
        <li *ngFor="let todo of todoService.todoList">
          <h3>Task:</h3> {{todo.task}}
          <mat-divider vertical></mat-divider>
          <h3>Priority:</h3> <span [className]="piorityColor(todo.priority)">{{todo.priority}}</span>
        </li>
      </ul>
    </mat-card-content>
    <mat-card-footer>
      <div class="listFooter">
        <span>Color labels:
          <span class="text-danger"><i class="fas fa-exclamation-circle"></i> High priority</span>
          <span class="text-warning"><i class="fas fa-exclamation-circle"></i> Medium priority</span>
          <span class="text-info"><i class="fas fa-exclamation-circle"></i> Low priority</span>
          <span class="text-success"><i class="fas fa-exclamation-circle"></i> Complete</span>
        </span>
      </div>
    </mat-card-footer>
  </mat-card>
</section>

<div *ngIf="transactionsManagerService.transactionsList.length > 0" class="mat-elevation-z8">
  <!-- <table mat-table class="full-width-table" matSort aria-label="Elements"> -->
  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 full-width-table">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let row">
        <span [class.text-danger]='row.amount < 0' [class.text-success]='row.amount > 0'>
          {{row.name}}</span>
      </td>
      <td mat-footer-cell *matFooterCellDef> Total </td>
    </ng-container>

    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
      <td mat-cell *matCellDef="let row">
        <span>{{row.date.toLocaleDateString()}}</span>
      </td>
      <td mat-footer-cell *matFooterCellDef> </td>
    </ng-container>

    <!-- <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox *ngIf="row.amount < 0 && !row.isPaid"
          (click)="transactionsManagerService.togglePaymentStatus(row)">
        </mat-checkbox>
        <mat-icon *ngIf="row.amount < 0 && row.isPaid">close</mat-icon>
      </td>
      <td mat-footer-cell *matFooterCellDef> </td>
    </ng-container> -->

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Amount</th>
      <td mat-cell *matCellDef="let row">
        <span *ngIf="!row.isPaid && !row.amount==0" [class.text-danger]='row.amount < 0'
          [class.text-success]='row.amount > 0'>
          {{row.amount | currency}}</span><span *ngIf="row.isPaid" style="color: blueviolet">due</span>
      </td>
      <td mat-footer-cell *matFooterCellDef> <span [class.text-danger]='getTotalCost() < 0'
          [class.text-success]='getTotalCost() > 0'>{{getTotalCost() | currency}}</span> </td>
    </ng-container>

    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef>
        <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
          [indeterminate]="selection.hasValue() && !isAllSelected()">
        </mat-checkbox>
      </th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
          [checked]="selection.isSelected(row)">
        </mat-checkbox>
      </td>
      <td mat-footer-cell *matFooterCellDef>
        <mat-icon (click)="delete()" class="del">delete</mat-icon>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
  </table>

  <!-- <mat-paginator #paginator
      [length]="dataSource?.data.length"
      [pageIndex]="0"
      [pageSize]="50"
      [pageSizeOptions]="[25, 50, 100, 250]">
  </mat-paginator> -->
</div>

<h3 *ngIf="transactionsManagerService.transactionsList.length === 0">
  The historic is empty.
</h3>
